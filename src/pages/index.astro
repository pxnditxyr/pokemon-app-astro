---
import MainLayout from '@layouts/MainLayout.astro'
import PokemonCard from '@components/pokemons/PokemonCard.astro'

import type { IPokemonListResponse } from '@interfaces/pokemon-list.interface'
import Title from '@components/shared/Title.astro'

const response = await fetch( 'https://pokeapi.co/api/v2/pokemon' )

const data  = ( await response.json() ) as IPokemonListResponse
---

<MainLayout title="Home">
  <Title> Pokemon App - Pxndxs üêº | Astro </Title>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12 p-8">
    {
      data.results.map( ({ name, url }) => (
        <PokemonCard
          name={ name }
          url={ url }
        />
      ) )
    }
  </div>
</MainLayout>
